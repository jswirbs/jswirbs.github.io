<!DOCTYPE html>
<html lang="en">
	<head>
		<title>three.js webgl - interactive cubes</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<link rel="shortcut icon" type="image/x-icon" href="./img/logo-black-on-white.png">
		<link rel="icon" type="image/ico" href="./img/logo-black-on-white.png">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

	</head>
	<body>

		<script src="js/three.min.js"></script>
		<script src="js/cubeData.js"></script>

		<script src="js/stats.min.js"></script>

		<script>

			var stats;
			var scene, camera, renderer;

			var mouse = new THREE.Vector2(), INTERSECTED;
			var frustumSize = 400;

			init();
			animate();

			function init() {

				var canvas = document.createElement('div');
				canvas.setAttribute('class', 'canvas')
				document.body.appendChild(canvas);

				var aspect = window.innerWidth / window.innerHeight;
				camera = new THREE.OrthographicCamera(frustumSize * aspect / - 2, frustumSize * aspect / 2, frustumSize / 2, frustumSize / - 2, 1, 1000);
				//camera = new THREE.PerspectiveCamera(75, aspect, .1, 3000);

				scene = new THREE.Scene();
				scene.background = new THREE.Color(0xc0c0c0);

				var light = new THREE.DirectionalLight(0xffffff, 1);
				light.position.set(1, 1, 1).normalize();
				scene.add(light);

				//var geometry = new THREE.BoxBufferGeometry( 20, 20, 20 );

				// for ( var i = 0; i < 2000; i ++ ) {

				// 	var object = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: Math.random() * 0xffffff } ) );

				// 	object.position.x = Math.random() * 800 - 400;
				// 	object.position.y = Math.random() * 800 - 400;
				// 	object.position.z = Math.random() * 800 - 400;

				// 	object.rotation.x = Math.random() * 2 * Math.PI;
				// 	object.rotation.y = Math.random() * 2 * Math.PI;
				// 	object.rotation.z = Math.random() * 2 * Math.PI;

				// 	object.scale.x = Math.random() + 0.5;
				// 	object.scale.y = Math.random() + 0.5;
				// 	object.scale.z = Math.random() + 0.5;

				// 	scene.add( object );

				// }
				

				// function from cubeData.js that adds cubes to scene
				buildCubeData(scene, 20);


				renderer = new THREE.WebGLRenderer();
				renderer.setPixelRatio(window.devicePixelRatio);
				renderer.setSize(window.innerWidth, window.innerHeight);
				canvas.appendChild(renderer.domElement);

				stats = new Stats();
				canvas.appendChild(stats.dom);

				document.addEventListener('mousemove', onDocumentMouseMove);

				window.addEventListener('resize', onWindowResize);

			}

			function onWindowResize() {

				var aspect = window.innerWidth / window.innerHeight;

				camera.left = - frustumSize * aspect / 2;
				camera.right = frustumSize * aspect / 2;
				camera.top = frustumSize / 2;
				camera.bottom = - frustumSize / 2;

				camera.updateProjectionMatrix();

				renderer.setSize(window.innerWidth, window.innerHeight);

			}

			function onDocumentMouseMove(event) {

				event.preventDefault();

				mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
				mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;

			}

			function animate() {

				requestAnimationFrame(animate);

				render();
				stats.update();

			}

			var theta = -40;

			function render() {

				theta += 0.1;

				camera.position.x = 500 * Math.sin(THREE.Math.degToRad(theta));
				camera.position.y = 500 * Math.sin(THREE.Math.degToRad(theta * 2));
				camera.position.z = 500 * Math.cos(THREE.Math.degToRad(theta));
				camera.lookAt( scene.position );

				camera.updateMatrixWorld();


				// ray casting
				var raycaster = new THREE.Raycaster();
				raycaster.setFromCamera(mouse, camera);

				var intersects = raycaster.intersectObjects(scene.children);

				if (intersects.length > 0) {

					if (INTERSECTED != intersects[0].object) {

						if (INTERSECTED) INTERSECTED.material.emissive.setHex(INTERSECTED.currentHex);

						INTERSECTED = intersects[0].object;
						INTERSECTED.currentHex = INTERSECTED.material.emissive.getHex();
						INTERSECTED.material.emissive.setHex(0xff0000);

					}

				} else {

					if (INTERSECTED) INTERSECTED.material.emissive.setHex(INTERSECTED.currentHex);

					INTERSECTED = null;

				}

				renderer.render(scene, camera);

			}

		</script>



		<div class="container">

			<div class="content">
				
				<div>
					<img src="./img/logo-white-on-trans.png" width="80px" height="80px">
				</div>

				<div class="name">
					JUSTIN SWIRBUL
				</div>

				<div class="personal-info">
					UPENN &nbsp;//&nbsp; COMPUTER SCIENCE &nbsp;//&nbsp; DESIGN
				</div>

				<div class="personal-info">
					ENTREPRENEURSHIP &nbsp;//&nbsp; SKI TEAM
				</div>

				<div>
					<a class="icon" href="./resume.pdf"><i class="fa fa-file-text"><span class="icon-text">resume</span></i></a>
				  	<a class="icon" href="./projects.html"><i class="fa fa-pencil"><span class="icon-text">projects</span></i></a>
					<a class="icon" href="mailto:swirbulj@seas.upenn.edu"><i class="fa fa-envelope"><span class="icon-text">swirbulj@seas.upenn.edu</span></i></a>
					<a class="icon" href="https://www.linkedin.com/in/justin-swirbul-64a541144/" target="_blank"><i class="fa fa-linkedin"><span class="icon-text">linkedin</span></i></a>
					<a class="icon" href="https://github.com/jswirbs" target="_blank"><i class="fa fa-github"><span class="icon-text">github</span></i></a>
				</div>
				
			</div>

		</div>

	</body>

	<style>
		@font-face {
		    font-family: "univers";
		    src: url("./fonts/univers.eot");
		    src: url("./fonts/univers.woff") format('woff'),
		    	 url("./fonts/univers.ttf") format('truetype'),
		         url("./fonts/univers.svg#font") format('svg');
		}
		@font-face {
		    font-family: "univers-light";
		    src: url("./fonts/univers-light.eot");
		    src: url("./fonts/univers-light.woff") format('woff'),
		     	 url("./fonts/univers-light.ttf") format('truetype'),
		         url("./fonts/univers-light.svg#font") format('svg');
		}
		@font-face {
		    font-family: "univers-lightoblique";
		    src: url("./fonts/univers-lightoblique.eot");
		    src: url("./fonts/univers-lightoblique.woff") format('woff'),
		    	 url("./fonts/univers-lightoblique.ttf") format('truetype'),
		         url("./fonts/univers-lightoblique.svg#font") format('svg');
		}
		@font-face {
		    font-family: "univers-lightultracondensed";
		    src: url("./fonts/univers-lightultracondensed.eot");
		    src: url("./fonts/univers-lightultracondensed.woff") format('woff'),
		    	 url("./fonts/univers-lightultracondensed.ttf") format('truetype'),
		         url("./fonts/univers-lightultracondensed.svg#font") format('svg');
		}
		@font-face {
		    font-family: "univers-condensedbold";
		    src: url("./fonts/univers-condensedbold.eot");
		    src: url("./fonts/univers-condensedbold.woff") format('woff'),
		    	 url("./fonts/univers-condensedbold.ttf") format('truetype'),
		         url("./fonts/univers-condensedbold.svg#font") format('svg');
		}
		@font-face {
		    font-family: "univers-condensedboldoblique";
		    src: url("./fonts/univers-condensedboldoblique.eot");
		    src: url("./fonts/univers-condensedboldoblique.woff") format('woff'),
		    	 url("./fonts/univers-condensedboldoblique.ttf") format('truetype'),
		         url("./fonts/univers-condensedboldoblique.svg#font") format('svg');
		}
		@font-face {
		    font-family: "univers-condensedlightoblique";
		    src: url("./fonts/univers-condensedlightoblique.eot");
		    src: url("./fonts/univers-condensedlightoblique.woff") format('woff'),
		    	 url("./fonts/univers-condensedlightoblique.ttf") format('truetype'),
		         url("./fonts/univers-condensedlightoblique.svg#font") format('svg');
		}


		html {
			margin: 0;
			height: 100vh;
		}

		body {
			margin: 0;
			height: 100%;
			width: 100%;
			overflow: hidden;
		}

		.canvas {
			/* filter: blur(1px); */
		}

		.container {
			position: absolute;
			width: 100%;
			height: 100%;
			top: 0;
			left: 0;
			background-color: rgba(0, 0, 0, .4);
		}

		.content {
			position: absolute;
			top: 30vh;
			width: 100%;
			text-align: center;
		}

		.name {
			font-family: "univers";
			font-size: 24px;
			color: white;

			margin: 10px 0 6px 0;
		}

		.personal-info {
			font-family: "univers-light";
			font-size: 16px;
			color: white;

			margin: 8px 0;
		}

		.icon {
			font-size: 18px;
			color: white;
			padding: 10px 10px;
		}

		.icon-text {
			font-family: "univers-lightoblique";
			visibility: hidden;
			position: absolute;
			width: 256px;
			text-align: center;
			margin-left: -136px;
			margin-top: 24px;
		}

		.icon:hover {
			color: #ccc;
		}

		.icon:hover .icon-text {
			visibility: visible;
			color: #fff;
		}

	</style>
</html>
