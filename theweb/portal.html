<!DOCTYPE html>
<html>
<head>
  <title>the web</title>
  <script type="text/javascript" src="./redirect.js"></script>
</head>

<body onmousemove="followMouse(event)" onclick="mouseClicked(event)" onload="bodyLoaded()">
  <span id="text">oh look, a portal.</span>

  <img id="portal" src="portal.png"/>
</body>

<script type="text/javascript">
  let portalSize = 5940;

  let x = (Math.random() * (window.innerWidth - 200)); //.toFixed();
  let y = (Math.random() * (window.innerHeight - 50)); //.toFixed();

  let xBuffer = 104;
  let yBuffer = 16;

  console.log(x + ", " + y)

  function followMouse(e) {
    let portal = document.getElementById("portal");
    portal.style.left = (e.clientX - portalSize/2).toString() + "px";
    portal.style.top = (e.clientY - portalSize/2).toString() + "px";

    // console.log(e.x + ", " + e.y)
    // console.log(x + 50)
    // console.log("(" + e.x + ">" + x + ") && (" + e.x + "<" + "(" + (x + 50) + ") && (" + e.y + ">" + y +") && (" + e.y + "<" + (y + 16) + ")")
    // console.log((e.x > x) && (e.x < (x + 50)) && (e.y > y) && (e.y < (y + 16)))

    if ((e.x > x) && (e.x < (x + xBuffer)) && (e.y > y) && (e.y < (y + yBuffer))) {
      document.body.style.cursor = "pointer";
    } else {
      document.body.style.cursor = "default";
    }
  }

  function mouseClicked(e) {
    if ((e.x > x) && (e.x < (x + xBuffer)) && (e.y > y) && (e.y < (y + yBuffer))) {
      redirect('portal');
    }
  }

  function bodyLoaded() {
    document.getElementById("text").style.top = y + "px";
    document.getElementById("text").style.left = x + "px";

    document.body.style.visibility = "visible";
  }
</script>

<style type="text/css">
  body {
    height: 100vh;
    width: 100vw;
    margin: 0;
    overflow: hidden;
    background-color: #121C2B;

    visibility: hidden;
  }
  span {
    color: yellow;
    position: fixed;
  }

  /* #text {
    top: 100px;
    right: 100px;
  } */
  #portal {
    position: fixed;
    top: 0;
    left: 0;
  }
</style>

</html>
